import{u as rt,r as v,M as _e,f as nt,i as be,g as st,h as at,k as it,l as ot,n as lt,R as f,j as e,m as _,o as xe,p as se,A as ct,B as M,C as D,a as Y,b as J,e as te,d as q}from"./index-CuprRf9A.js";import{u as dt,F as ut,a as T,b as F,c as I,d as L,e as U,z as k,t as mt}from"./form-BS08ZxNH.js";import{H as pt,F as ft}from"./Footer-SL7L-qNs.js";import{I as z}from"./input-C7AUaPAc.js";import{L as ht}from"./label-BOUa42Nh.js";import{T as xt}from"./textarea-CM19OCj5.js";import{B as yt}from"./badge-gyCBv1ly.js";import{S as Se,a as Ne,b as we,c as Ce,d as Ee}from"./select-CtwjQDgd.js";import{C as B}from"./circle-check-big-DSnttqeU.js";import{S as We}from"./star-P3qg4A1_.js";import{A as Pe}from"./arrow-right-D6eAxko1.js";import{U as vt}from"./upload-tPu2ZDTa.js";import{A as ke}from"./arrow-left-C_Zpo_h0.js";import"./worknovas-logo_1758639732999-amMO5GSq.js";import"./linkedin-DWPjXw38.js";import"./index-B6XFBDnY.js";import"./Combination-DKMiJ1tB.js";import"./index-DqFLgNHl.js";import"./index-CCUsGLlQ.js";import"./check-CFzykUac.js";function ze(r){const t=rt(()=>nt(r)),{isStatic:n}=v.useContext(_e);if(n){const[,s]=v.useState(r);v.useEffect(()=>t.on("change",s),[])}return t}function Re(r){return typeof r=="number"?r:parseFloat(r)}function gt(r,t={}){const{isStatic:n}=v.useContext(_e),s=v.useRef(null),a=ze(be(r)?Re(r.get()):r),o=v.useRef(a.get()),d=v.useRef(()=>{}),u=()=>{const m=s.current;m&&m.time===0&&m.sample(it.delta),l(),s.current=ot({keyframes:[a.get(),o.current],velocity:a.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...t,onUpdate:d.current})},l=()=>{s.current&&s.current.stop()};return v.useInsertionEffect(()=>a.attach((m,p)=>n?p(m):(o.current=m,d.current=p,st.update(u),a.get()),l),[JSON.stringify(t)]),at(()=>{if(be(r))return r.on("change",m=>a.set(Re(m)))},[a]),a}var Me={exports:{}},jt="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",bt=jt,St=bt;function Ve(){}function Be(){}Be.resetWarningCache=Ve;var Nt=function(){function r(s,a,o,d,u,l){if(l!==St){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function t(){return r}var n={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:t,element:r,elementType:r,instanceOf:t,node:r,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Be,resetWarningCache:Ve};return n.PropTypes=n,n};Me.exports=Nt();var wt=Me.exports;const h=lt(wt);function Ae(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,s)}return n}function Oe(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ae(Object(n),!0).forEach(function(s){De(r,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(n,s))})}return r}function ae(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ae=function(t){return typeof t}:ae=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ae(r)}function De(r,t,n){return t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function Ct(r,t){if(r==null)return{};var n={},s=Object.keys(r),a,o;for(o=0;o<s.length;o++)a=s[o],!(t.indexOf(a)>=0)&&(n[a]=r[a]);return n}function Et(r,t){if(r==null)return{};var n=Ct(r,t),s,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(a=0;a<o.length;a++)s=o[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(n[s]=r[s])}return n}function qe(r,t){return Pt(r)||kt(r,t)||Rt(r,t)||At()}function Pt(r){if(Array.isArray(r))return r}function kt(r,t){var n=r&&(typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"]);if(n!=null){var s=[],a=!0,o=!1,d,u;try{for(n=n.call(r);!(a=(d=n.next()).done)&&(s.push(d.value),!(t&&s.length===t));a=!0);}catch(l){o=!0,u=l}finally{try{!a&&n.return!=null&&n.return()}finally{if(o)throw u}}return s}}function Rt(r,t){if(r){if(typeof r=="string")return Te(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Te(r,t)}}function Te(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=r[n];return s}function At(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var P=function(t,n,s){var a=!!s,o=f.useRef(s);f.useEffect(function(){o.current=s},[s]),f.useEffect(function(){if(!a||!t)return function(){};var d=function(){o.current&&o.current.apply(o,arguments)};return t.on(n,d),function(){t.off(n,d)}},[a,n,t,o])},fe=function(t){var n=f.useRef(t);return f.useEffect(function(){n.current=t},[t]),n.current},$=function(t){return t!==null&&ae(t)==="object"},Ot=function(t){return $(t)&&typeof t.then=="function"},Tt=function(t){return $(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},Fe="[object Object]",Ft=function r(t,n){if(!$(t)||!$(n))return t===n;var s=Array.isArray(t),a=Array.isArray(n);if(s!==a)return!1;var o=Object.prototype.toString.call(t)===Fe,d=Object.prototype.toString.call(n)===Fe;if(o!==d)return!1;if(!o&&!s)return t===n;var u=Object.keys(t),l=Object.keys(n);if(u.length!==l.length)return!1;for(var m={},p=0;p<u.length;p+=1)m[u[p]]=!0;for(var R=0;R<l.length;R+=1)m[l[R]]=!0;var x=Object.keys(m);if(x.length!==u.length)return!1;var E=t,y=n,A=function(V){return r(E[V],y[V])};return x.every(A)},$e=function(t,n,s){return $(t)?Object.keys(t).reduce(function(a,o){var d=!$(n)||!Ft(t[o],n[o]);return s.includes(o)?(d&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),a):d?Oe(Oe({},a||{}),{},De({},o,t[o])):a},null):null},Ye="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Ie=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ye;if(t===null||Tt(t))return t;throw new Error(n)},It=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ye;if(Ot(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(a){return Ie(a,n)})};var s=Ie(t,n);return s===null?{tag:"empty"}:{tag:"sync",stripe:s}},Lt=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"4.0.2"}),t.registerAppInfo({name:"react-stripe-js",version:"4.0.2",url:"https://stripe.com/docs/stripe-js/react"}))},ie=f.createContext(null);ie.displayName="ElementsContext";var Je=function(t,n){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return t},He=function(t){var n=t.stripe,s=t.options,a=t.children,o=f.useMemo(function(){return It(n)},[n]),d=f.useState(function(){return{stripe:o.tag==="sync"?o.stripe:null,elements:o.tag==="sync"?o.stripe.elements(s):null}}),u=qe(d,2),l=u[0],m=u[1];f.useEffect(function(){var x=!0,E=function(A){m(function(O){return O.stripe?O:{stripe:A,elements:A.elements(s)}})};return o.tag==="async"&&!l.stripe?o.stripePromise.then(function(y){y&&x&&E(y)}):o.tag==="sync"&&!l.stripe&&E(o.stripe),function(){x=!1}},[o,l,s]);var p=fe(n);f.useEffect(function(){p!==null&&p!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[p,n]);var R=fe(s);return f.useEffect(function(){if(l.elements){var x=$e(s,R,["clientSecret","fonts"]);x&&l.elements.update(x)}},[s,R,l.elements]),f.useEffect(function(){Lt(l.stripe)},[l.stripe]),f.createElement(ie.Provider,{value:l},a)};He.propTypes={stripe:h.any,options:h.object};var Ut=function(t){var n=f.useContext(ie);return Je(n,t)},_t=function(){var t=Ut("calls useElements()"),n=t.elements;return n};h.func.isRequired;var Ge=f.createContext(null);Ge.displayName="CheckoutContext";h.any,h.shape({fetchClientSecret:h.func.isRequired,elementsOptions:h.object}).isRequired;var he=function(t){var n=f.useContext(Ge),s=f.useContext(ie);if(n){if(s)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return n}else return Je(s,t)},Wt=["mode"],zt=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},j=function(t,n){var s="".concat(zt(t),"Element"),a=function(l){var m=l.id,p=l.className,R=l.options,x=R===void 0?{}:R,E=l.onBlur,y=l.onFocus,A=l.onReady,O=l.onChange,V=l.onEscape,oe=l.onClick,X=l.onLoadError,Q=l.onLoaderStart,Z=l.onNetworksChange,le=l.onConfirm,ee=l.onCancel,ce=l.onShippingAddressChange,de=l.onShippingRateChange,ue=l.onSavedPaymentMethodRemove,i=l.onSavedPaymentMethodUpdate,c=he("mounts <".concat(s,">")),g="elements"in c?c.elements:null,S="checkoutState"in c?c.checkoutState:null,N=(S==null?void 0:S.type)==="success"?S.checkout:null,et=f.useState(null),ye=qe(et,2),w=ye[0],tt=ye[1],W=f.useRef(null),me=f.useRef(null);P(w,"blur",E),P(w,"focus",y),P(w,"escape",V),P(w,"click",oe),P(w,"loaderror",X),P(w,"loaderstart",Q),P(w,"networkschange",Z),P(w,"confirm",le),P(w,"cancel",ee),P(w,"shippingaddresschange",ce),P(w,"shippingratechange",de),P(w,"savedpaymentmethodremove",ue),P(w,"savedpaymentmethodupdate",i),P(w,"change",O);var pe;A&&(t==="expressCheckout"?pe=A:pe=function(){A(w)}),P(w,"ready",pe),f.useLayoutEffect(function(){if(W.current===null&&me.current!==null&&(g||N)){var C=null;if(N)switch(t){case"payment":C=N.createPaymentElement(x);break;case"address":if("mode"in x){var ge=x.mode,je=Et(x,Wt);if(ge==="shipping")C=N.createShippingAddressElement(je);else if(ge==="billing")C=N.createBillingAddressElement(je);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":C=N.createExpressCheckoutElement(x);break;case"currencySelector":C=N.createCurrencySelectorElement();break;case"taxId":C=N.createTaxIdElement(x);break;default:throw new Error("Invalid Element type ".concat(s,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else g&&(C=g.create(t,x));W.current=C,tt(C),C&&C.mount(me.current)}},[g,N,x]);var ve=fe(x);return f.useEffect(function(){if(W.current){var C=$e(x,ve,["paymentRequest"]);C&&"update"in W.current&&W.current.update(C)}},[x,ve]),f.useLayoutEffect(function(){return function(){if(W.current&&typeof W.current.destroy=="function")try{W.current.destroy(),W.current=null}catch{}}},[]),f.createElement("div",{id:m,className:p,ref:me})},o=function(l){he("mounts <".concat(s,">"));var m=l.id,p=l.className;return f.createElement("div",{id:m,className:p})},d=n?o:a;return d.propTypes={id:h.string,className:h.string,onChange:h.func,onBlur:h.func,onFocus:h.func,onReady:h.func,onEscape:h.func,onClick:h.func,onLoadError:h.func,onLoaderStart:h.func,onNetworksChange:h.func,onConfirm:h.func,onCancel:h.func,onShippingAddressChange:h.func,onShippingRateChange:h.func,onSavedPaymentMethodRemove:h.func,onSavedPaymentMethodUpdate:h.func,options:h.object},d.displayName=s,d.__elementType=t,d},b=typeof window>"u",Mt=f.createContext(null);Mt.displayName="EmbeddedCheckoutProviderContext";var Vt=function(){var t=he("calls useStripe()"),n=t.stripe;return n};j("auBankAccount",b);j("card",b);j("cardNumber",b);j("cardExpiry",b);j("cardCvc",b);j("fpxBank",b);j("iban",b);j("idealBank",b);j("p24Bank",b);j("epsBank",b);var Bt=j("payment",b);j("expressCheckout",b);j("paymentRequestButton",b);j("linkAuthentication",b);j("address",b);j("shippingAddress",b);j("paymentMethodMessaging",b);j("affirmMessage",b);j("afterpayClearpayMessage",b);j("taxId",b);var Ke="basil",Dt=function(t){return t===3?"v3":t},Xe="https://js.stripe.com",qt="".concat(Xe,"/").concat(Ke,"/stripe.js"),$t=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Yt=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,Le="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",Jt=function(t){return $t.test(t)||Yt.test(t)},Ht=function(){for(var t=document.querySelectorAll('script[src^="'.concat(Xe,'"]')),n=0;n<t.length;n++){var s=t[n];if(Jt(s.src))return s}return null},Ue=function(t){var n="",s=document.createElement("script");s.src="".concat(qt).concat(n);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(s),s},Gt=function(t,n){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:n})},H=null,re=null,ne=null,Kt=function(t){return function(n){t(new Error("Failed to load Stripe.js",{cause:n}))}},Xt=function(t,n){return function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))}},Qt=function(t){return H!==null?H:(H=new Promise(function(n,s){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&t&&console.warn(Le),window.Stripe){n(window.Stripe);return}try{var a=Ht();if(a&&t)console.warn(Le);else if(!a)a=Ue(t);else if(a&&ne!==null&&re!==null){var o;a.removeEventListener("load",ne),a.removeEventListener("error",re),(o=a.parentNode)===null||o===void 0||o.removeChild(a),a=Ue(t)}ne=Xt(n,s),re=Kt(s),a.addEventListener("load",ne),a.addEventListener("error",re)}catch(d){s(d);return}}),H.catch(function(n){return H=null,Promise.reject(n)}))},Zt=function(t,n,s){if(t===null)return null;var a=n[0],o=a.match(/^pk_test/),d=Dt(t.version),u=Ke;o&&d!==u&&console.warn("Stripe.js@".concat(d," was loaded on the page, but @stripe/stripe-js@").concat("7.9.0"," expected Stripe.js@").concat(u,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var l=t.apply(void 0,n);return Gt(l,s),l},G,Qe=!1,Ze=function(){return G||(G=Qt(null).catch(function(t){return G=null,Promise.reject(t)}),G)};Promise.resolve().then(function(){return Ze()}).catch(function(r){Qe||console.warn(r)});var er=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];Qe=!0;var a=Date.now();return Ze().then(function(o){return Zt(o,n,a)})};function tr({steps:r}){return e.jsx("div",{className:"flex items-center justify-between max-w-4xl mx-auto mb-8",children:r.map((t,n)=>e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(_.div,{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 ${t.completed?"bg-green-500 border-green-500 text-white":t.current?"bg-primary border-primary text-white":"bg-gray-100 border-gray-300 text-gray-400"}`,initial:!1,animate:{scale:t.current?1.1:1,backgroundColor:t.completed||t.current?"#0D47A1":"#FFFFFF"},transition:{duration:.3},children:t.completed?e.jsx(B,{className:"w-5 h-5"}):e.jsx("span",{className:"text-sm font-semibold",children:n+1})}),e.jsx("span",{className:`mt-2 text-xs font-medium ${t.current||t.completed?"text-gray-900":"text-gray-400"}`,children:t.title})]}),n<r.length-1&&e.jsx("div",{className:"flex-1 mx-4",children:e.jsx(_.div,{className:"h-0.5 bg-gray-200 rounded-full overflow-hidden",initial:!1,children:e.jsx(_.div,{className:"h-full bg-primary",initial:{width:"0%"},animate:{width:t.completed?"100%":"0%"},transition:{duration:.5,delay:.2}})})})]},t.id))})}function rr({title:r,price:t,description:n,features:s,selected:a,popular:o=!1,onClick:d}){return e.jsxs(_.div,{className:`relative p-6 rounded-xl border-2 cursor-pointer transition-all ${a?"border-primary bg-primary/5 shadow-lg":"border-gray-200 hover:border-gray-300 hover:shadow-md"}`,onClick:d,whileHover:{scale:1.02},whileTap:{scale:.98},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[o&&e.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:e.jsxs("div",{className:"bg-gradient-to-r from-orange-400 to-red-400 text-white px-3 py-1 rounded-full text-xs font-semibold flex items-center gap-1",children:[e.jsx(We,{className:"w-3 h-3 fill-current"}),"Most Popular"]})}),e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r}),e.jsx("p",{className:"text-sm text-gray-500",children:n})]}),e.jsx("div",{className:"text-right",children:e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:t})})]}),e.jsx("ul",{className:"space-y-2 mb-4",children:s.map((u,l)=>e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(B,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),u]},l))}),e.jsx("div",{className:`w-4 h-4 rounded-full border-2 mx-auto ${a?"bg-primary border-primary":"border-gray-300"}`,children:a&&e.jsx(_.div,{className:"w-2 h-2 bg-white rounded-full m-0.5",initial:{scale:0},animate:{scale:1},transition:{duration:.2}})})]})}const nr=()=>er("pk_live_51RMB25ABXY0QNgUFhg6S8nAhuqDUChZVIdac88lacRk7tvneMJuRJoiwdRiz0JCGg2KcvfGE6EIhNfuVQB9MYaEi00tedW5ggP"),K=nr(),sr=[{id:"full",title:"Full Payment",price:"$1,500",amount:1500,description:"One-time payment",features:["Complete 180-day program","Resume optimization","Interview coaching","Job placement support","Immigration assistance"]},{id:"2x",title:"2 Installments",price:"2 × $750",amount:750,description:"Split into 2 payments",features:["Same complete program","Pay 50% upfront","Remaining 50% in 30 days","No additional fees","Full access from day 1"],popular:!0}],ar=k.object({firstName:k.string().min(1,"First name is required"),lastName:k.string().min(1,"Last name is required"),email:k.string().email("Please enter a valid email address"),phone:k.string().min(1,"Phone number is required"),currentTitle:k.string().min(1,"Current job title is required"),experience:k.string().min(1,"Experience level is required"),targetRole:k.string().min(1,"Target role is required"),targetSalary:k.string().optional(),workAuthorization:k.string().min(1,"Work authorization status is required"),preferredLocation:k.string().optional(),additionalInfo:k.string().optional()}),ir=[{value:"entry",label:"Entry Level (0-2 years)"},{value:"mid",label:"Mid Level (3-5 years)"},{value:"senior",label:"Senior Level (6-10 years)"},{value:"lead",label:"Lead/Principal (10+ years)"},{value:"executive",label:"Executive/Director"}],or=[{value:"us_citizen",label:"US Citizen"},{value:"permanent_resident",label:"Permanent Resident (Green Card)"},{value:"h1b",label:"H-1B Visa"},{value:"opt",label:"OPT (F-1 Student)"},{value:"ead",label:"Employment Authorization Document"},{value:"other",label:"Other (specify in additional info)"},{value:"require_sponsorship",label:"Will require work sponsorship"}],lr=({plan:r,onSuccess:t})=>{const n=Vt(),s=_t(),{toast:a}=xe(),[o,d]=v.useState(!1),u=async l=>{if(l.preventDefault(),!n||!s)return;d(!0);const{error:m,paymentIntent:p}=await n.confirmPayment({elements:s,redirect:"if_required",confirmParams:{return_url:window.location.href}});m?(a({title:"Payment Failed",description:m.message,variant:"destructive"}),d(!1)):(p==null?void 0:p.status)==="succeeded"?t(p.id):(a({title:"Payment Processing",description:"Payment is being processed. Please wait...",variant:"default"}),d(!1))};return e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[e.jsx(Bt,{}),e.jsx(M,{type:"submit",disabled:!n||o,className:"w-full",size:"lg",children:o?"Processing...":`Pay ${r.price}`})]})},cr=({plan:r,successFee:t,onSuccess:n})=>{const[s,a]=v.useState(""),[o,d]=v.useState(null),{toast:u}=xe();return v.useEffect(()=>{if(!K){d("Payment system not configured. Please contact support.");return}se("POST","/api/create-payment-intent",{planId:r.id,successFee:t}).then(l=>l.json()).then(l=>{if(l.clientSecret)a(l.clientSecret);else throw new Error("Invalid payment response")}).catch(l=>{console.error("Error creating payment intent:",l),d("Unable to initialize payment. Please try again."),u({title:"Payment Error",description:"Unable to initialize payment system. Please try again.",variant:"destructive"})})},[r.id,t,u]),o?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-red-600 mb-4",children:o}),e.jsx(M,{variant:"secondary",onClick:()=>window.location.reload(),children:"Try Again"})]}):s?K?e.jsx(He,{stripe:K,options:{clientSecret:s},children:e.jsx(lr,{plan:r,onSuccess:n})}):e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-red-600",children:"Payment system not available. Please contact support."})}):e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"}),e.jsx("span",{className:"ml-2 text-muted-foreground",children:"Initializing payment..."})]})};function Ar(){const[r,t]=v.useState(0),[n,s]=v.useState(null),[a,o]=v.useState(null),[d,u]=v.useState(null),[l,m]=v.useState(null),[p,R]=v.useState("15"),x=v.useRef(null),{toast:E}=xe(),y=dt({resolver:mt(ar),defaultValues:{firstName:"",lastName:"",email:"",phone:"",currentTitle:"",experience:"",targetRole:"",targetSalary:"",workAuthorization:"",preferredLocation:"",additionalInfo:""}}),A=v.useRef(!1),O=v.useRef(null),V=ze(400),oe=gt(V,{stiffness:400,damping:40,mass:.6});v.useEffect(()=>{const i=()=>{if(O.current){const S=O.current.scrollHeight;let N;switch(r){case 0:N=Math.max(500,S+100);break;case 1:N=Math.max(600,S+150);break;case 2:N=Math.max(800,S+300);break;case 3:N=Math.max(600,S+150);break;default:N=Math.max(500,S+100)}V.set(N)}},c=setTimeout(i,100),g=new ResizeObserver(i);return O.current&&g.observe(O.current),()=>{clearTimeout(c),g.disconnect()}},[r,n,a,V]),v.useEffect(()=>{if(A.current)return;const c=new URLSearchParams(window.location.search).get("payment_intent_client_secret");c&&K&&(A.current=!0,K.then(g=>{g&&g.retrievePaymentIntent(c).then(({paymentIntent:S})=>{(S==null?void 0:S.status)==="succeeded"&&(window.history.replaceState({},document.title,window.location.pathname),t(2),ee(S.id))}).catch(S=>{console.error("Error retrieving payment intent:",S),E({title:"Payment Verification Failed",description:"Unable to verify payment status. Please contact support.",variant:"destructive"})})}))},[]);const X=[{id:"plan",title:"Select Plan",completed:r>0,current:r===0},{id:"resume",title:"Resume & Terms",completed:r>1,current:r===1},{id:"checkout",title:"Checkout",completed:r>2,current:r===2},{id:"success",title:"Success",completed:r>3,current:r===3}],Q=async()=>{if(r<X.length-1)if(r===1)try{await ce()&&t(r+1)}catch{return}else t(r+1)},Z=()=>{r>0&&t(r-1)},le=i=>{var g;const c=(g=i.target.files)==null?void 0:g[0];c&&(c.type==="application/pdf"||c.type.includes("document")?(o(c),E({title:"Resume Uploaded",description:`${c.name} uploaded successfully!`})):E({title:"Invalid File Type",description:"Please upload a PDF or Word document.",variant:"destructive"}))},ee=async i=>{try{const c=y.getValues(),g=await se("POST","/api/create-enrollment",{firstName:c.firstName,lastName:c.lastName,email:c.email,phone:c.phone,planId:n==null?void 0:n.id,successFee:p,paymentIntentId:i,resumeId:d}),S=await g.json();if(g.ok)t(4),E({title:"🎉 Welcome to Career Advisory!",description:"Your enrollment is complete. Check your email for next steps."});else throw new Error(S.message||"Enrollment creation failed")}catch(c){console.error("Enrollment creation failed:",c),E({title:"Enrollment Failed",description:c.message||"Failed to complete enrollment. Please contact support.",variant:"destructive"})}},ce=async()=>{try{const i=y.getValues();if(!n)throw new Error("No plan selected");const c=await se("POST","/api/create-initial-enrollment",{firstName:i.firstName,lastName:i.lastName,email:i.email,phone:i.phone,planId:n.id,successFee:p,resumeId:d}),g=await c.json();if(c.ok)return m(g.enrollmentId),E({title:"Enrollment Created",description:"Your enrollment has been created. Proceeding to payment..."}),g.enrollmentId;throw new Error(g.message||"Failed to create enrollment")}catch(i){throw console.error("Failed to create initial enrollment:",i),E({title:"Enrollment Failed",description:i.message||"Failed to create enrollment. Please try again.",variant:"destructive"}),i}},de=async(i,c)=>{try{await se("POST","/api/update-enrollment-status",{enrollmentId:i,status:"payment_failed"}),E({title:"Payment Failed",description:c.message||"Payment failed. Your enrollment has been saved with failed status.",variant:"destructive"})}catch(g){console.error("Failed to update enrollment status:",g)}},ue={enter:i=>({x:i>0?1e3:-1e3,opacity:0}),center:{zIndex:1,x:0,opacity:1},exit:i=>({zIndex:0,x:i<0?1e3:-1e3,opacity:0})};return e.jsxs(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"min-h-screen bg-background",children:[e.jsx(pt,{}),e.jsx("main",{className:"py-12",children:e.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx(yt,{className:"mb-4",children:"Career Advisory Enrollment"}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-ink mb-4",children:"Transform Your Career in 180 Days"}),e.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Join our comprehensive program designed to accelerate your technology career"})]}),e.jsx(tr,{steps:X}),e.jsx(_.div,{className:"relative w-full",style:{minHeight:oe,paddingBottom:"3rem"},layout:!0,transition:{layout:{duration:.7,ease:[.4,0,.2,1]}},children:e.jsx(ct,{mode:"wait",custom:r,children:e.jsxs(_.div,{ref:O,custom:r,variants:ue,initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2}},className:"w-full",layout:!0,children:[r===0&&e.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-ink mb-4",children:"Choose Your Program"}),e.jsx("p",{className:"text-lg text-muted-foreground max-w-xl mx-auto",children:"Select the payment plan that works best for you"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:sr.map(i=>e.jsx(rr,{title:i.title,price:i.price,description:i.description,features:i.features,selected:(n==null?void 0:n.id)===i.id,popular:i.popular,onClick:()=>s(i)},i.id))}),e.jsx("div",{className:"flex justify-center",children:e.jsxs(M,{onClick:Q,disabled:!n,size:"lg",className:"px-8",children:["Continue to Resume Upload",e.jsx(Pe,{className:"w-4 h-4 ml-2"})]})})]}),r===1&&e.jsxs("div",{className:"space-y-8 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-ink mb-4",children:"Complete Your Profile"}),e.jsx("p",{className:"text-lg text-muted-foreground",children:"Tell us about yourself and upload your resume to get started"})]}),e.jsxs(D,{children:[e.jsxs(Y,{children:[e.jsx(J,{className:"text-xl",children:"Personal & Professional Information"}),e.jsx(te,{children:"We'll use this information to create your personalized career plan"})]}),e.jsx(q,{className:"space-y-6",children:e.jsx(ut,{...y,children:e.jsxs("form",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(T,{control:y.control,name:"firstName",render:({field:i})=>e.jsxs(F,{children:[e.jsx(I,{children:"First Name"}),e.jsx(L,{children:e.jsx(z,{placeholder:"John",...i,"data-testid":"input-first-name"})}),e.jsx(U,{})]})}),e.jsx(T,{control:y.control,name:"lastName",render:({field:i})=>e.jsxs(F,{children:[e.jsx(I,{children:"Last Name"}),e.jsx(L,{children:e.jsx(z,{placeholder:"Doe",...i,"data-testid":"input-last-name"})}),e.jsx(U,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(T,{control:y.control,name:"email",render:({field:i})=>e.jsxs(F,{children:[e.jsx(I,{children:"Email"}),e.jsx(L,{children:e.jsx(z,{type:"email",placeholder:"john@company.com",...i,"data-testid":"input-email"})}),e.jsx(U,{})]})}),e.jsx(T,{control:y.control,name:"phone",render:({field:i})=>e.jsxs(F,{children:[e.jsx(I,{children:"Phone"}),e.jsx(L,{children:e.jsx(z,{placeholder:"+1 (555) 123-4567",...i,"data-testid":"input-phone"})}),e.jsx(U,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(T,{control:y.control,name:"currentTitle",render:({field:i})=>e.jsxs(F,{children:[e.jsx(I,{children:"Current Job Title"}),e.jsx(L,{children:e.jsx(z,{placeholder:"Software Engineer",...i,"data-testid":"input-current-title"})}),e.jsx(U,{})]})}),e.jsx(T,{control:y.control,name:"experience",render:({field:i})=>e.jsxs(F,{children:[e.jsx(I,{children:"Experience Level"}),e.jsxs(Se,{onValueChange:i.onChange,defaultValue:i.value,children:[e.jsx(L,{children:e.jsx(Ne,{"data-testid":"select-experience",children:e.jsx(we,{placeholder:"Select your level"})})}),e.jsx(Ce,{children:ir.map(c=>e.jsx(Ee,{value:c.value,children:c.label},c.value))})]}),e.jsx(U,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(T,{control:y.control,name:"targetRole",render:({field:i})=>e.jsxs(F,{children:[e.jsx(I,{children:"Target Role"}),e.jsx(L,{children:e.jsx(z,{placeholder:"Senior Software Engineer",...i,"data-testid":"input-target-role"})}),e.jsx(U,{})]})}),e.jsx(T,{control:y.control,name:"targetSalary",render:({field:i})=>e.jsxs(F,{children:[e.jsx(I,{children:"Target Salary (Optional)"}),e.jsx(L,{children:e.jsx(z,{placeholder:"$120,000",...i,"data-testid":"input-target-salary"})}),e.jsx(U,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(T,{control:y.control,name:"workAuthorization",render:({field:i})=>e.jsxs(F,{children:[e.jsx(I,{children:"Work Authorization"}),e.jsxs(Se,{onValueChange:i.onChange,defaultValue:i.value,children:[e.jsx(L,{children:e.jsx(Ne,{"data-testid":"select-work-authorization",children:e.jsx(we,{placeholder:"Select your work authorization status"})})}),e.jsx(Ce,{children:or.map(c=>e.jsx(Ee,{value:c.value,children:c.label},c.value))})]}),e.jsx(U,{})]})}),e.jsx(T,{control:y.control,name:"preferredLocation",render:({field:i})=>e.jsxs(F,{children:[e.jsx(I,{children:"Preferred Location (Optional)"}),e.jsx(L,{children:e.jsx(z,{placeholder:"Austin, TX or Remote",...i,"data-testid":"input-location"})}),e.jsx(U,{})]})})]}),e.jsx(T,{control:y.control,name:"additionalInfo",render:({field:i})=>e.jsxs(F,{children:[e.jsx(I,{children:"Additional Information (Optional)"}),e.jsx(L,{children:e.jsx(xt,{placeholder:"Tell us about your career goals, preferred industries, or any specific requirements...",className:"min-h-[100px]",...i,"data-testid":"textarea-additional-info"})}),e.jsx(U,{})]})})]})})})]}),e.jsxs(D,{children:[e.jsxs(Y,{children:[e.jsx(J,{children:"Resume Upload"}),e.jsx(te,{children:"Upload your current resume for optimization"})]}),e.jsxs(q,{children:[e.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-primary transition-colors cursor-pointer",onClick:()=>{var i;return(i=x.current)==null?void 0:i.click()},"data-testid":"upload-area",children:a?e.jsxs("div",{className:"space-y-4",children:[e.jsx(B,{className:"w-12 h-12 text-green-500 mx-auto"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-ink",children:a.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Resume uploaded successfully"})]}),e.jsx(M,{variant:"secondary",onClick:i=>{var c;i.stopPropagation(),(c=x.current)==null||c.click()},"data-testid":"button-change-file",children:"Change File"})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx(vt,{className:"w-12 h-12 text-gray-400 mx-auto"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-ink",children:"Click to upload your resume"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"PDF or Word document (max 10MB)"})]})]})}),e.jsx("input",{ref:x,type:"file",accept:".pdf,.doc,.docx",onChange:le,className:"hidden","data-testid":"file-input"})]})]}),e.jsxs(D,{children:[e.jsxs(Y,{children:[e.jsx(J,{children:"Success Fee Agreement"}),e.jsx(te,{children:"This fee is only collected after successful job placement"})]}),e.jsx(q,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(ht,{htmlFor:"successFee",children:"Success Fee Percentage"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(z,{id:"successFee",type:"number",value:p,onChange:i=>R(i.target.value),min:"10",max:"20",className:"w-24","data-testid":"input-success-fee"}),e.jsx("span",{className:"text-muted-foreground",children:"%"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"(Standard: 15%)"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"This fee is only charged after you accept a job offer and start working"})]})})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(M,{variant:"secondary",onClick:Z,size:"lg","data-testid":"button-back",children:[e.jsx(ke,{className:"w-4 h-4 mr-2"}),"Back to Plans"]}),e.jsxs(M,{onClick:Q,disabled:!a||!p||!y.formState.isValid,size:"lg",className:"px-8","data-testid":"button-continue",children:["Continue to Checkout",e.jsx(Pe,{className:"w-4 h-4 ml-2"})]})]})]}),r===2&&n&&e.jsxs("div",{className:"space-y-8 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-ink mb-4",children:"Complete Your Payment"}),e.jsx("p",{className:"text-muted-foreground",children:"You're almost done! Complete your payment to start the program."})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 items-start",children:[e.jsxs(D,{className:"w-full lg:w-1/2 h-fit",children:[e.jsx(Y,{children:e.jsx(J,{children:"Order Summary"})}),e.jsxs(q,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Career Advisory Program"}),e.jsx("span",{className:"font-semibold",children:"$1,500"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Payment Plan"}),e.jsx("span",{children:n.title})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"First Payment"}),e.jsxs("span",{className:"font-semibold",children:["$",n.amount]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Success Fee"}),e.jsxs("span",{children:[p,"% (post-placement)"]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[e.jsx("span",{children:"Total Due Now"}),e.jsxs("span",{children:["$",n.amount]})]})]})]}),e.jsxs(D,{className:"w-full lg:w-1/2 h-fit",children:[e.jsxs(Y,{children:[e.jsx(J,{children:"Payment Information"}),e.jsx(te,{children:"Secure payment processing powered by Stripe"})]}),e.jsx(q,{className:"pb-8",children:e.jsx(cr,{plan:n,successFee:p,enrollmentId:l,onSuccess:i=>ee(i),onFailure:de})})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs(M,{variant:"secondary",onClick:Z,size:"lg",children:[e.jsx(ke,{className:"w-4 h-4 mr-2"}),"Back to Resume"]})})]}),r===3&&e.jsxs(_.div,{className:"text-center space-y-8 max-w-2xl mx-auto",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:[e.jsx(_.div,{animate:{rotate:[0,360],scale:[1,1.2,1]},transition:{duration:1,ease:"easeInOut"},children:e.jsx(We,{className:"w-24 h-24 text-yellow-400 fill-current mx-auto"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-4xl font-bold text-ink mb-4",children:"🎉 Welcome to Career Advisory!"}),e.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"Your enrollment is complete. Get ready to transform your career!"})]}),e.jsx(D,{children:e.jsxs(q,{className:"p-8",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"What happens next?"}),e.jsxs("div",{className:"space-y-4 text-left",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(B,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Welcome Email (Within 24 hours)"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Check your inbox for program details and next steps"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(B,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Resume Review (Week 1)"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Our experts will optimize your resume for ATS systems"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(B,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Career Strategy Session (Week 2)"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"1-on-1 session to plan your 180-day journey"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(B,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Job Matching Begins (Week 3)"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Active placement in our candidate pipeline"})]})]})]})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(M,{size:"lg",className:"px-8",children:"Access Your Portal"}),e.jsx(M,{variant:"secondary",size:"lg",className:"px-8",children:"Schedule Onboarding Call"})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Questions? Contact us at"," ",e.jsx("a",{href:"mailto:support@worknovas.com",className:"text-primary hover:underline",children:"support@worknovas.com"})]})]})]},r)})})]})})}),e.jsx(ft,{})]})}export{Ar as default};
