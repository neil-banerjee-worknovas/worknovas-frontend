import{r as x,s as U,j as e,B as p,C as a,d as i,a as l,b as n,p as K}from"./index-CuprRf9A.js";import{T}from"./textarea-CM19OCj5.js";import{L as f}from"./label-BOUa42Nh.js";import{S as O,P as $,A as E,a as M}from"./alert-DvryssVU.js";import{B as m}from"./badge-gyCBv1ly.js";import{T as q,a as G,b as h,c as u}from"./tabs-BLJOaRmF.js";import{I as J}from"./input-C7AUaPAc.js";import{u as V}from"./useMutation-BvbhO3Ww.js";import{F as C}from"./file-text-CPhKcBMc.js";import{T as Y}from"./target-Daxxxr6z.js";import{C as H}from"./circle-check-big-DSnttqeU.js";import{S as Q}from"./star-P3qg4A1_.js";import{T as R}from"./triangle-alert-CjSSRQIf.js";import{T as W}from"./trending-up-3yF84ArF.js";import{S as N}from"./search-CZt2VAwY.js";import"./index-DqFLgNHl.js";import"./index-B6XFBDnY.js";import"./utils-km2FGkQ4.js";function je(){const[d,j]=x.useState(""),[g,v]=x.useState(""),[A,k]=x.useState(""),[o,y]=x.useState(null);U();const c=V({mutationFn:async s=>await(await K("POST","/api/ats/scan-resume",s)).json(),onSuccess:s=>{y(s)}}),F=s=>{var b;const t=(b=s.target.files)==null?void 0:b[0];if(!t)return;k(t.name);const r=new FileReader;r.onload=D=>{var S;const L=(S=D.target)==null?void 0:S.result;j(L)},r.readAsText(t)},P=()=>{d.trim()&&c.mutate({resumeText:d.trim(),jobDescription:g.trim()||void 0,fileName:A||void 0})},w=s=>s>=80?"text-green-600":s>=60?"text-yellow-600":"text-red-600",z=s=>s>=80?"default":s>=60?"secondary":"destructive",I=s=>{switch(s.toLowerCase()){case"high":return"destructive";case"medium":return"secondary";case"low":return"outline";default:return"outline"}},B=()=>{if(o){const s=`${window.location.origin}/ats-report/${o.shareableSlug}`;navigator.clipboard.writeText(s)}};if(o){const{analysis:s}=o;return e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"ATS Resume Analysis Results"}),e.jsx("p",{className:"text-muted-foreground",children:"Your resume has been analyzed for ATS compatibility"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(p,{onClick:B,variant:"outline",size:"sm",children:[e.jsx(O,{className:"w-4 h-4 mr-2"}),"Share Report"]}),e.jsxs(p,{onClick:()=>{y(null),j(""),v("")},variant:"outline",size:"sm",children:[e.jsx(C,{className:"w-4 h-4 mr-2"}),"New Scan"]})]})]})}),e.jsx(a,{className:"mb-8",children:e.jsx(i,{className:"pt-6",children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-6xl font-bold mb-2 ${w(s.overallScore)}`,children:s.overallScore}),e.jsx("p",{className:"text-lg text-muted-foreground",children:"Overall ATS Score"}),e.jsx(m,{variant:z(s.overallScore),className:"mt-2",children:s.overallScore>=80?"Excellent":s.overallScore>=60?"Good":"Needs Improvement"})]})})})}),e.jsxs(a,{className:"mb-8",children:[e.jsx(l,{children:e.jsxs(n,{className:"flex items-center",children:[e.jsx(Y,{className:"w-5 h-5 mr-2"}),"Detailed Breakdown"]})}),e.jsx(i,{children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6",children:Object.entries(s.scores).map(([t,r])=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium capitalize",children:t}),e.jsxs("span",{className:`text-sm font-bold ${w(r)}`,children:[r,"%"]})]}),e.jsx($,{value:r,className:"h-2"})]},t))})})]}),e.jsxs(q,{defaultValue:"strengths",className:"space-y-6",children:[e.jsxs(G,{className:"grid w-full grid-cols-4",children:[e.jsx(h,{value:"strengths",children:"Strengths"}),e.jsx(h,{value:"improvements",children:"Improvements"}),e.jsx(h,{value:"keywords",children:"Keywords"}),e.jsx(h,{value:"recommendations",children:"Recommendations"})]}),e.jsx(u,{value:"strengths",children:e.jsxs(a,{children:[e.jsx(l,{children:e.jsxs(n,{className:"flex items-center text-green-600",children:[e.jsx(H,{className:"w-5 h-5 mr-2"}),"Resume Strengths"]})}),e.jsx(i,{children:e.jsx("div",{className:"space-y-3",children:s.strengths.map((t,r)=>e.jsxs("div",{className:"flex items-start",children:[e.jsx(Q,{className:"w-4 h-4 text-green-600 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-sm",children:t})]},r))})})]})}),e.jsx(u,{value:"improvements",children:e.jsxs(a,{children:[e.jsx(l,{children:e.jsxs(n,{className:"flex items-center text-yellow-600",children:[e.jsx(R,{className:"w-5 h-5 mr-2"}),"Areas for Improvement"]})}),e.jsx(i,{children:e.jsx("div",{className:"space-y-3",children:s.improvements.map((t,r)=>e.jsxs("div",{className:"flex items-start",children:[e.jsx(W,{className:"w-4 h-4 text-yellow-600 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-sm",children:t})]},r))})})]})}),e.jsx(u,{value:"keywords",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(a,{children:[e.jsx(l,{children:e.jsx(n,{className:"text-green-600",children:"Keywords Found"})}),e.jsx(i,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:s.keywords.found.map((t,r)=>e.jsx(m,{variant:"default",className:"bg-green-100 text-green-800",children:t},r))})})]}),e.jsxs(a,{children:[e.jsx(l,{children:e.jsx(n,{className:"text-red-600",children:"Missing Keywords"})}),e.jsx(i,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:s.keywords.missing.map((t,r)=>e.jsx(m,{variant:"destructive",className:"bg-red-100 text-red-800",children:t},r))})})]}),e.jsxs(a,{children:[e.jsx(l,{children:e.jsx(n,{children:"Keyword Recommendations"})}),e.jsx(i,{children:e.jsx("div",{className:"space-y-2",children:s.keywords.recommendations.map((t,r)=>e.jsxs("div",{className:"flex items-start",children:[e.jsx(N,{className:"w-4 h-4 text-blue-600 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-sm",children:t})]},r))})})]})]})}),e.jsx(u,{value:"recommendations",children:e.jsx("div",{className:"space-y-4",children:s.recommendations.map((t,r)=>e.jsx(a,{children:e.jsxs(i,{className:"pt-6",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{variant:"outline",children:t.category}),e.jsxs(m,{variant:I(t.priority),children:[t.priority," priority"]})]})}),e.jsx("h4",{className:"font-semibold mb-2",children:t.suggestion}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.impact})]})},r))})})]})]})}return e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Free ATS Resume Scanner"}),e.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"Get instant AI-powered analysis of how well your resume performs with Applicant Tracking Systems (ATS)"})]}),e.jsxs(a,{children:[e.jsx(l,{children:e.jsxs(n,{className:"flex items-center",children:[e.jsx(C,{className:"w-5 h-5 mr-2"}),"Upload Your Resume"]})}),e.jsxs(i,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(f,{htmlFor:"file-upload",children:"Upload Resume File (optional)"}),e.jsx(J,{id:"file-upload",type:"file",accept:".txt",onChange:F,className:"mt-2","data-testid":"input-resume-file"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Supported formats: .txt files only"})]}),e.jsxs("div",{children:[e.jsxs(f,{htmlFor:"resume-text",children:["Or Paste Resume Text ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(T,{id:"resume-text",placeholder:"Copy and paste your resume text here...",value:d,onChange:s=>j(s.target.value),className:"min-h-[200px] mt-2","data-testid":"input-resume-text"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Copy your resume content from any document and paste it here"})]}),e.jsxs("div",{children:[e.jsx(f,{htmlFor:"job-description",children:"Job Description (optional)"}),e.jsx(T,{id:"job-description",placeholder:"Paste the job description you're applying for to get targeted keyword analysis...",value:g,onChange:s=>v(s.target.value),className:"min-h-[120px] mt-2","data-testid":"input-job-description"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Adding a job description will provide more specific keyword recommendations"})]}),c.error&&e.jsxs(E,{children:[e.jsx(R,{className:"h-4 w-4"}),e.jsx(M,{children:c.error.message||"An error occurred while analyzing your resume"})]}),e.jsx(p,{onClick:P,disabled:!d.trim()||c.isPending,className:"w-full",size:"lg","data-testid":"button-scan-resume",children:c.isPending?e.jsxs(e.Fragment,{children:[e.jsx(N,{className:"w-4 h-4 mr-2 animate-spin"}),"Analyzing Resume..."]}):e.jsxs(e.Fragment,{children:[e.jsx(N,{className:"w-4 h-4 mr-2"}),"Scan Resume for ATS Compatibility"]})}),e.jsx("div",{className:"text-center text-sm text-muted-foreground",children:e.jsx("p",{children:"✓ 100% Free • ✓ No Sign-up Required • ✓ Instant Results"})})]})]})]})}export{je as default};
