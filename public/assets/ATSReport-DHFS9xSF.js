import{t as k,r as o,s as R,j as e,v as L,B as m,C as a,d as n,a as i,b as c}from"./index-CuprRf9A.js";import{B as d}from"./badge-gyCBv1ly.js";import{A as E,a as B,S as I,P as z}from"./alert-DvryssVU.js";import{T as D,a as F,b as x,c as h}from"./tabs-BLJOaRmF.js";import{A as K}from"./arrow-left-C_Zpo_h0.js";import{F as P}from"./file-text-CPhKcBMc.js";import{T as U}from"./target-Daxxxr6z.js";import{C as $}from"./circle-check-big-DSnttqeU.js";import{S as G}from"./star-P3qg4A1_.js";import{T as O}from"./triangle-alert-CjSSRQIf.js";import{T as V}from"./trending-up-3yF84ArF.js";import{S as H}from"./search-CZt2VAwY.js";import"./index-DqFLgNHl.js";import"./index-B6XFBDnY.js";function ne(){const[p,l]=k("/ats-report/:slug"),[j,w]=o.useState(null),[b,f]=o.useState(!0),[N,v]=o.useState(null),[,u]=R();o.useEffect(()=>{p&&(l!=null&&l.slug)&&y(l.slug)},[p,l==null?void 0:l.slug]);const y=async s=>{try{f(!0),v(null);const r=await fetch(`/api/ats/scan/${s}`);if(!r.ok)throw r.status===404?new Error("ATS scan report not found"):new Error("Failed to load scan results");const C=await r.json();w(C)}catch(r){v(r.message||"An error occurred")}finally{f(!1)}},g=s=>s>=80?"text-green-600":s>=60?"text-yellow-600":"text-red-600",S=s=>s>=80?"default":s>=60?"secondary":"destructive",T=s=>{switch(s.toLowerCase()){case"high":return"destructive";case"medium":return"secondary";case"low":return"outline";default:return"outline"}},A=()=>{const s=window.location.href;navigator.clipboard.writeText(s)};if(b)return e.jsx("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading ATS scan report..."})]})})});if(N||!j)return e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[e.jsxs(E,{children:[e.jsx(L,{className:"h-4 w-4"}),e.jsx(B,{children:N||"ATS scan report not found"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs(m,{onClick:()=>u("/ats-scanner"),variant:"outline",children:[e.jsx(K,{className:"w-4 h-4 mr-2"}),"Try ATS Scanner"]})})]});const{analysis:t}=j;return e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"ATS Resume Analysis Report"}),e.jsxs("p",{className:"text-muted-foreground",children:["Scanned on ",new Date(j.createdAt).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(m,{onClick:A,variant:"outline",size:"sm","data-testid":"button-share-report",children:[e.jsx(I,{className:"w-4 h-4 mr-2"}),"Share Report"]}),e.jsxs(m,{onClick:()=>u("/ats-scanner"),variant:"outline",size:"sm","data-testid":"button-new-scan",children:[e.jsx(P,{className:"w-4 h-4 mr-2"}),"Scan New Resume"]})]})]})}),e.jsx(a,{className:"mb-8",children:e.jsx(n,{className:"pt-6",children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-6xl font-bold mb-2 ${g(t.overallScore)}`,"data-testid":"text-overall-score",children:t.overallScore}),e.jsx("p",{className:"text-lg text-muted-foreground",children:"Overall ATS Score"}),e.jsx(d,{variant:S(t.overallScore),className:"mt-2",children:t.overallScore>=80?"Excellent":t.overallScore>=60?"Good":"Needs Improvement"})]})})})}),e.jsxs(a,{className:"mb-8",children:[e.jsx(i,{children:e.jsxs(c,{className:"flex items-center",children:[e.jsx(U,{className:"w-5 h-5 mr-2"}),"Detailed Breakdown"]})}),e.jsx(n,{children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6",children:Object.entries(t.scores).map(([s,r])=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium capitalize",children:s}),e.jsxs("span",{className:`text-sm font-bold ${g(r)}`,children:[r,"%"]})]}),e.jsx(z,{value:r,className:"h-2"})]},s))})})]}),e.jsxs(D,{defaultValue:"strengths",className:"space-y-6",children:[e.jsxs(F,{className:"grid w-full grid-cols-4",children:[e.jsx(x,{value:"strengths",children:"Strengths"}),e.jsx(x,{value:"improvements",children:"Improvements"}),e.jsx(x,{value:"keywords",children:"Keywords"}),e.jsx(x,{value:"recommendations",children:"Recommendations"})]}),e.jsx(h,{value:"strengths",children:e.jsxs(a,{children:[e.jsx(i,{children:e.jsxs(c,{className:"flex items-center text-green-600",children:[e.jsx($,{className:"w-5 h-5 mr-2"}),"Resume Strengths"]})}),e.jsx(n,{children:e.jsx("div",{className:"space-y-3",children:t.strengths.map((s,r)=>e.jsxs("div",{className:"flex items-start",children:[e.jsx(G,{className:"w-4 h-4 text-green-600 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-sm",children:s})]},r))})})]})}),e.jsx(h,{value:"improvements",children:e.jsxs(a,{children:[e.jsx(i,{children:e.jsxs(c,{className:"flex items-center text-yellow-600",children:[e.jsx(O,{className:"w-5 h-5 mr-2"}),"Areas for Improvement"]})}),e.jsx(n,{children:e.jsx("div",{className:"space-y-3",children:t.improvements.map((s,r)=>e.jsxs("div",{className:"flex items-start",children:[e.jsx(V,{className:"w-4 h-4 text-yellow-600 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-sm",children:s})]},r))})})]})}),e.jsx(h,{value:"keywords",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(a,{children:[e.jsx(i,{children:e.jsx(c,{className:"text-green-600",children:"Keywords Found"})}),e.jsx(n,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:t.keywords.found.map((s,r)=>e.jsx(d,{variant:"default",className:"bg-green-100 text-green-800",children:s},r))})})]}),e.jsxs(a,{children:[e.jsx(i,{children:e.jsx(c,{className:"text-red-600",children:"Missing Keywords"})}),e.jsx(n,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:t.keywords.missing.map((s,r)=>e.jsx(d,{variant:"destructive",className:"bg-red-100 text-red-800",children:s},r))})})]}),e.jsxs(a,{children:[e.jsx(i,{children:e.jsx(c,{children:"Keyword Recommendations"})}),e.jsx(n,{children:e.jsx("div",{className:"space-y-2",children:t.keywords.recommendations.map((s,r)=>e.jsxs("div",{className:"flex items-start",children:[e.jsx(H,{className:"w-4 h-4 text-blue-600 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-sm",children:s})]},r))})})]})]})}),e.jsx(h,{value:"recommendations",children:e.jsx("div",{className:"space-y-4",children:t.recommendations.map((s,r)=>e.jsx(a,{children:e.jsxs(n,{className:"pt-6",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{variant:"outline",children:s.category}),e.jsxs(d,{variant:T(s.priority),children:[s.priority," priority"]})]})}),e.jsx("h4",{className:"font-semibold mb-2",children:s.suggestion}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.impact})]})},r))})})]}),e.jsx(a,{className:"mt-8 bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:e.jsx(n,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Want to improve your resume further?"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Get AI-powered resume writing, cover letter generation, and LinkedIn optimization"}),e.jsx(m,{onClick:()=>u("/signup"),size:"lg","data-testid":"button-upgrade-cta",children:"Upgrade with AI Career Tools"})]})})})]})}export{ne as default};
